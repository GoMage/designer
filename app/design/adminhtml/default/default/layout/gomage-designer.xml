<?xml version="1.0" ?>
<layout>
    <adminhtml_catalog_product_edit>
        <reference name="head">
            <action method="addJs"><script>gomage/productdesigner/adminhtml/product_edit.js</script></action>
            <action method="addJs"><script>prototype/window.js</script></action>
            <action method="addItem"><type>js_css</type><name>prototype/windows/themes/default.css</name></action>
            <action method="addItem"><type>skin_css</type><name>lib/prototype/windows/themes/magento.css</name></action>
            <action method="addJs"><script>gomage/productdesigner/vendor/fabric.min.js</script></action>
            <action method="addJs"><script>gomage/productdesigner/vendor/excanvas.compiled.js</script></action>
        </reference>
    </adminhtml_catalog_product_edit>
    <adminhtml_catalog_product_new>
        <reference name="head">
            <action method="addJs"><script>gomage/productdesigner/adminhtml/product_edit.js</script></action>
            <action method="addJs"><script>prototype/window.js</script></action>
            <action method="addItem"><type>js_css</type><name>prototype/windows/themes/default.css</name></action>
            <action method="addItem"><type>skin_css</type><name>lib/prototype/windows/themes/magento.css</name></action>
            <action method="addJs"><script>gomage/productdesigner/vendor/fabric.min.js</script></action>
            <action method="addJs"><script>gomage/productdesigner/vendor/excanvas.compiled.js</script></action>
        </reference>
    </adminhtml_catalog_product_new>
    <adminhtml_designer_product_edit>
            <block type="gomage_designer/adminhtml_product_edit" name="product_designer_product" template="gomage/productdesigner/product/edit.phtml" output="toHtml" />
    </adminhtml_designer_product_edit>
    <adminhtml_cliparts_edit>
        <update handle="editor" />
        <reference name="left">
            <block name="cliparts_categories_tree" type="gomage_designer/adminhtml_cliparts_tree" template="gomage/productdesigner/cliparts/tree.phtml" />
        </reference>
        <reference name="content">
            <block name="cliparts_edit"  type="gomage_designer/adminhtml_cliparts_edit" template="gomage/productdesigner/cliparts/edit.phtml">
                <block name="form" type="gomage_designer/adminhtml_cliparts_edit_form" template="gomage/productdesigner/cliparts/edit/form.phtml">
                    <block name="gallery" type="gomage_designer/adminhtml_cliparts_edit_gallery" />
                </block>
            </block>
        </reference>
        <reference name="js">
            <block type="core/template" template="catalog/wysiwyg/js.phtml" name="catalog.wysiwyg.js" />
        </reference>
    </adminhtml_cliparts_edit>

    <adminhtml_fonts_edit>
        <update handle="editor" />
        <reference name="content">
            <block name="cliparts_edit"  type="gomage_designer/adminhtml_fonts_edit" template="gomage/productdesigner/fonts/edit.phtml">
                <block name="form" type="gomage_designer/adminhtml_fonts_edit_form" template="gomage/productdesigner/fonts/edit/form.phtml">
                    <block name="gallery" type="gomage_designer/adminhtml_fonts_edit_gallery" />
                </block>
            </block>
        </reference>
        <reference name="js">
            <block type="core/template" template="catalog/wysiwyg/js.phtml" name="catalog.wysiwyg.js" />
        </reference>
    </adminhtml_fonts_edit>

    <adminhtml_sales_order_view>
        <reference name="order_items">
            <action method="addColumnRender"><column>name</column><block>designer/adminhtml_sales_items_column_name</block><template>gomage/sales/items/column/name.phtml</template></action>
        </reference>
    </adminhtml_sales_order_view>

    <adminhtml_designer_design_view>
        <reference name="content">
            <block type="gomage_designer/adminhtml_design_view" name="design.view" template="gomage/productdesigner/design/view.phtml">
                <action method="setHeader"><header>View Design</header></action>
                <action method="setColumnCount"><count>3</count></action>
            </block>
        </reference>
    </adminhtml_designer_design_view>

    <adminhtml_catalog_product_attribute_edit>
        <reference name="head">
            <action method="addJs"><script>lib/flex.js</script></action>
            <action method="addJs"><script>lib/FABridge.js</script></action>
            <action method="addJs"><script>mage/adminhtml/flexuploader.js</script></action>
        </reference>
    </adminhtml_catalog_product_attribute_edit>
</layout>